<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>IFE JavaScript Task 14</title>
</head>
<body>
<h3>污染城市列表</h3>
    <ul id="aqi-list">
    <!--
        <li>第一名：福州（样例），10</li>
          <li>第二名：福州（样例），10</li> -->
    </ul>

    <script type="text/javascript">
     var aqiData = [
        ["北京", 90],
        ["上海", 50],
        ["福州", 10],
        ["广州", 50],
        ["成都", 90],
        ["西安", 100]
     ];
    window.onload = function () {
        /*
         在注释下方编写代码
         遍历读取aqiData中各个城市的数据
         将空气质量指数大于60的城市显示到aqi-list的列表中
         */
        var chineseNumbers = ["一","二","三","四","五","六","七","八","九","十"];
        var contentStr = "";
        aqiData.filter(function (element) {
            return element[1] > 60;
        }).sort(function (x,y) {
            return y[1] - x[1];
        }).forEach(function (element,index) {
            contentStr += "<li>第" + chineseNumbers[index] + "名：" + element[0] +"，" +element[1]+"</li>"
            document.getElementById("aqi-list").innerHTML = contentStr;
        })
    }
    window.onunload = warning();
     function warning(){
         alert("你确定要离开页面吗?");
     }

//     window.onunload = function () {                        //为什么不生效
//         alert("你确定要离开页面吗22222222222222222?");
//     }

//     (function () {
//
//         /*
//          在注释下方编写代码
//          遍历读取aqiData中各个城市的数据
//          将空气质量指数大于60的城市显示到aqi-list的列表中
//          */
//         var chineseNumbers = ["一","二","三","四","五","六","七","八","九","十"];
//         var contentStr = "";
//         aqiData.filter(function (element) {
//             return element[1] > 60;
//         }).sort(function (x,y) {
//             return y[1] - x[1];
//         }).forEach(function (element,index) {
//             contentStr += "<li>第" + chineseNumbers[index] + "名：" + element[0] +"，" +element[1]+"</li>"
//             document.getElementById("aqi-list").innerHTML = contentStr;
//         })
//     })();

</script>
</body>
</html>